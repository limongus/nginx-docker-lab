<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Заявка на кредит</title>
</head>
<body>

    <h2>Заявка на кредит</h2>

    <form action="/apply" method="post" id="credit-form">
        
        <p>
            <label for="full_name">Ваше имя:</label><br>
            <input type="text" id="full_name" name="full_name" required>
        </p>

        <p>
            <label for="email_field">Ваш Email:</label><br>
            <input type="email" id="email_field" name="email" required>
        </p>

        <p>
            <label for="bank_select">Выберите банк:</label><br>
            <select id="bank_select" name="bank">
                <option value="superbank">СуперБанк</option>
                <option value="nanocredit">НаноКредит</option>
                <option value="financeprom">ФинансПром</option>
            </select>
        </p>

        <p>
            <label for="amount">Сумма кредита (руб):</label><br>
            <input type="number" id="amount" name="amount" min="10000" step="1000" required>
        </p>

        <fieldset>
            <legend>Срок кредита:</legend>
            <input type="radio" id="term1" name="term" value="1_year" checked>
            <label for="term1">1 год</label><br>
            <input type="radio" id="term3" name="term" value="3_years">
            <label for="term3">3 года</label><br>
            <input type="radio" id="term5" name="term" value="5_years">
            <label for="term5">5 лет</label>
        </fieldset>

        <p>
            <input type="checkbox" id="insurance" name="insurance" value="yes">
            <label for="insurance">Оформить страховку</label>
        </p>

        <button type="submit">Отправить заявку</button>
        
    </form>
	<div id="result"></div> 
<script>
    document.getElementById("credit-form").addEventListener("submit", function(e) {
        // 1. Предотвращаем стандартную отправку формы
        e.preventDefault();

        // 2. Собираем все данные из формы в один объект
        const data = new FormData(e.target);

        // 3. Находим div для вывода результата
        const resultDiv = document.getElementById("result");

        // 4. Формируем красивый HTML и вставляем его в div
        resultDiv.innerHTML = `<h2>✅ Заявка успешно отправлена!</h2>
            <p><b>Имя:</b> ${data.get('full_name')}</p>
            <p><b>Email:</b> ${data.get('email')}</p>
            <p><b>Выбранный банк:</b> ${data.get('bank')}</p>
            <p><b>Сумма:</b> ${data.get('amount')} руб.</p>
            <p><b>Срок:</b> ${data.get('term')}</p>
            <p><b>Страховка:</b> ${data.get('insurance') ? 'Да, оформлена' : 'Нет'}</p>`;
        
        // 5. Очищаем поля формы для нового ввода
        e.target.reset();
    });
</script>
</body>
</html>